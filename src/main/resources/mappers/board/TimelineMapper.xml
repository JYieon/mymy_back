<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.trip.mymy.mybatis.TimelineMapper">
	<resultMap type="com.trip.mymy.dto.TimelineDTO"
		id="TIMELINE_TB">
		<id property="timelineId" column="TIMELINE_ID_PK" />
		<result property="boardNo" column="BOARD_NO_PK" />
		<result property="id" column="MEMBER_ID_PK" />
		<result property="startDt" column="START_DT"
			javaType="java.sql.Timestamp" />
		<result property="endDt" column="END_DT"
			javaType="java.sql.Timestamp" />
		<result property="todo" column="TODO" />
		<result property="location" column="LOCATION" />
	</resultMap>

	<!-- 일정 조회 -->
	<select id="TimelineList" resultMap="TIMELINE_TB">
		SELECT * FROM TIMELINE_TB
		WHERE BOARD_NO_PK = #{boardNo}
	</select>

	<!-- 일정 추가 -->
	<insert id="addTimeline">
		INSERT INTO TIMELINE_TB (TIMELINE_ID_PK, BOARD_NO_PK, MEMBER_ID_PK,
		START_DT, END_DT, TODO, LOCATION)
		VALUES (TIMELINE_TB_SEQ.NEXTVAL, #{boardNo}, #{id}, #{startDt}, #{endDt},
		#{todo}, #{location})
	</insert>


</mapper>